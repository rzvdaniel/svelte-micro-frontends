function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}function s(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}let h;function v(t){h=t}function b(t){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.after_update.push(t)}const $=[],g=[],x=[],y=[],T=Promise.resolve();let _=!1;function F(t){x.push(t)}function w(){const t=new Set;do{for(;$.length;){const t=$.shift();v(t),E(t.$$)}for(;g.length;)g.pop()();for(let e=0;e<x.length;e+=1){const n=x[e];t.has(n)||(n(),t.add(n))}x.length=0}while($.length);for(;y.length;)y.pop()();_=!1}function E(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(F))}const q=new Set;function N(t,e){t.$$.dirty||($.push(t),_||(_=!0,T.then(w)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function A(i,l,s,u,c,a){const d=h;v(i);const f=l.props||{},p=i.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:null};let m=!1;var b,$;p.ctx=s?s(i,f,(t,e)=>{p.ctx&&c(p.ctx[t],p.ctx[t]=e)&&(p.bound[t]&&p.bound[t](e),m&&N(i,t))}):f,p.update(),m=!0,r(p.before_update),p.fragment=u(p.ctx),l.target&&(l.hydrate?p.fragment.l(function(t){return Array.from(t.childNodes)}(l.target)):p.fragment.c(),l.intro&&((b=i.$$.fragment)&&b.i&&(q.delete(b),b.i($))),function(t,n,i){const{fragment:l,on_mount:s,on_destroy:u,after_update:c}=t.$$;l.m(n,i),F(()=>{const n=s.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]}),c.forEach(F)}(i,l.target,l.anchor),w()),v(d)}class j{$destroy(){var e,n;n=1,(e=this).$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const C=[];function O(t,e){const n=parseFloat(e[0]);return(isNaN(t)?t.length:parseFloat(t))>=n}function k(t,e){const n=parseFloat(e[0]),r=isNaN(t)?t.length:parseFloat(t);return!!isNaN(r)||r<=n}var z=Object.freeze({between:function(t,e){return O(t,[e[0]])&&k(t,[e[1]])},email:function(t,e){return t&&/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},max:k,min:O,required:function(t,e){if(null==t)return!1;if("string"==typeof t){return t.replace(/\s/g,"").length>0}return!0},url:function t(e,n){return/(https?|ftp|git|svn):\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/i.test(t)},equal:function(t,e){return t===e[0]}});function I(t,{field:e,validator:n,observable:r}){let o,i=!0,l=!1;if("function"==typeof n){const s=n.call(null,t);s.then?(l=!0,s.then(({name:t,valid:n})=>{r.update(t=>(t[e]=t[e]||{errors:[]},t[e].pending=!1,t[e].valid=n,n||t[e].errors.push(o),t))})):(i=s.valid,o=s.name)}else{const e=n.split(/:/g);o=e.shift(),i=z[o].call(null,t,e)}return[i,o,l]}function V(e,n={initCheck:!1,stopAtFirstError:!0}){const r=function(e,n=t){let r;const o=[];function l(t){if(i(e,t)&&(e=t,r)){const t=!C.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),C.push(n,e)}if(t){for(let t=0;t<C.length;t+=2)C[t][0](C[t+1]);C.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(i,s=t){const u=[i,s];return o.push(u),1===o.length&&(r=n(l)||t),i(e),()=>{const t=o.indexOf(u);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}({oldValues:{},dirty:!1});return b(()=>S(e,r,n)),S(e,r,n),r}function S(t,e,n){const r=t.call(),o={oldValues:{},dirty:!1},i=function(t){let e;return l(t,t=>e=t)(),e}(e);o.dirty=i.dirty,Object.keys(r).forEach(t=>{const l=function(t){return t.value}(r[t]);l!==i.oldValues[t]?o[t]=function(t,e,n,{stopAtFirstError:r}){const{value:o,validators:i=[]}=e;let l=!0,s=!1,u=[];for(let e=0;e<i.length;e++){const[c,a,d]=I(o,{field:t,validator:i[e],observable:n});if(!s&&d&&(s=!0),!c&&(l=!1,u=[...u,a],r))break}return{valid:l,errors:u,pending:s}}(t,r[t],e,n):o[t]=i[t],o.oldValues[t]=l,i.dirty||void 0===i.oldValues[t]||l===i.oldValues[t]||(o.dirty=!0)}),o.valid=!Object.keys(o).find(t=>!["oldValues","dirty"].includes(t)&&!o[t].valid),e.set(o)}function Z(t){var e,n,r;return{c(){e=a("div"),n=d("Title is required"),e.hidden=r=!t.submitted,m(e,"class","error svelte-1eco23e")},m(t,r){u(t,e,r),s(e,n)},p(t,n){t.submitted&&r!==(r=!n.submitted)&&(e.hidden=r)},d(t){t&&c(e)}}}function L(t){var e,n,r;return{c(){e=a("p"),n=d("Title should be maximum 50 characters"),e.hidden=r=!t.submitted,m(e,"class","error svelte-1eco23e")},m(t,r){u(t,e,r),s(e,n)},p(t,n){t.submitted&&r!==(r=!n.submitted)&&(e.hidden=r)},d(t){t&&c(e)}}}function P(t){var e,n,r;return{c(){e=a("div"),n=d("Text is required"),e.hidden=r=!t.submitted,m(e,"class","error svelte-1eco23e")},m(t,r){u(t,e,r),s(e,n)},p(t,n){t.submitted&&r!==(r=!n.submitted)&&(e.hidden=r)},d(t){t&&c(e)}}}function M(t){var e,n,r;return{c(){e=a("p"),n=d("Title should be maximum 50 characters"),e.hidden=r=!t.submitted,m(e,"class","error svelte-1eco23e")},m(t,r){u(t,e,r),s(e,n)},p(t,n){t.submitted&&r!==(r=!n.submitted)&&(e.hidden=r)},d(t){t&&c(e)}}}function B(e){var n,o,i,l,d,h,v,b,$,g,x,y,T,_,F,w,E,q,N,A,j,C,O,k,z,I,V,S=e.$postForm.Title.errors.includes("required")&&Z(e),B=e.$postForm.Title.errors.includes("min")&&L(e),D=e.$postForm.Text.errors.includes("required")&&P(e),H=e.$postForm.Text.errors.includes("min")&&M(e);return{c(){var t;n=a("div"),o=a("div"),i=a("div"),l=a("section"),(d=a("h2")).textContent="Write Post",h=f(),v=a("hr"),b=f(),$=a("form"),g=a("div"),(x=a("label")).textContent="Title",y=f(),T=a("div"),_=a("input"),F=f(),S&&S.c(),w=f(),B&&B.c(),E=f(),q=a("div"),(N=a("label")).textContent="Text",A=f(),j=a("div"),C=a("textarea"),O=f(),D&&D.c(),k=f(),H&&H.c(),z=f(),(I=a("div")).innerHTML='<div class="col-md-offset-2 col-md-10"><input type="submit" value="Create" class="btn btn-primary"></div>',m(x,"class","col-md-2 control-label"),m(x,"for","title"),m(_,"name","title"),m(_,"type","text"),m(_,"placeholder","Enter title"),m(_,"class","form-control"),m(T,"class","col-md-10"),m(g,"class","form-group"),m(N,"class","col-md-2 control-label"),m(N,"for","title"),m(C,"name","text"),m(C,"rows","5"),m(C,"cols","60"),m(C,"placeholder","Enter post text here..."),m(C,"class","form-control"),m(j,"class","col-md-10"),m(q,"class","form-group"),m(I,"class","form-group"),m(l,"id","post"),m(i,"class","col-md-6"),m(o,"class","row"),m(n,"class","container-fluid"),V=[p(_,"input",e.input_input_handler),p(C,"input",e.textarea_input_handler),p($,"submit",(t=e.onSubmit,function(e){return e.preventDefault(),t.call(this,e)}))]},m(t,r){u(t,n,r),s(n,o),s(o,i),s(i,l),s(l,d),s(l,h),s(l,v),s(l,b),s(l,$),s($,g),s(g,x),s(g,y),s(g,T),s(T,_),_.value=e.Title,s(T,F),S&&S.m(T,null),s(T,w),B&&B.m(T,null),s($,E),s($,q),s(q,N),s(q,A),s(q,j),s(j,C),C.value=e.Text,s(j,O),D&&D.m(j,null),s(j,k),H&&H.m(j,null),s($,z),s($,I)},p(t,e){t.Title&&_.value!==e.Title&&(_.value=e.Title),e.$postForm.Title.errors.includes("required")?S?S.p(t,e):((S=Z(e)).c(),S.m(T,w)):S&&(S.d(1),S=null),e.$postForm.Title.errors.includes("min")?B?B.p(t,e):((B=L(e)).c(),B.m(T,null)):B&&(B.d(1),B=null),t.Text&&(C.value=e.Text),e.$postForm.Text.errors.includes("required")?D?D.p(t,e):((D=P(e)).c(),D.m(j,k)):D&&(D.d(1),D=null),e.$postForm.Text.errors.includes("min")?H?H.p(t,e):((H=M(e)).c(),H.m(j,null)):H&&(H.d(1),H=null)},i:t,o:t,d(t){t&&c(n),S&&S.d(),B&&B.d(),D&&D.d(),H&&H.d(),r(V)}}}function D(t,e,n){let r,{app:o,userId:i}=e,s="",u="",c=!1;const a=V(()=>({Title:{value:s,validators:["required","max:50"]},Text:{value:u,validators:["required","max:4000"]}}));var d,f;return d=a,f=t=>{n("$postForm",r=t)},t.$$.on_destroy.push(l(d,f)),t.$set=t=>{"app"in t&&n("app",o=t.app),"userId"in t&&n("userId",i=t.userId)},{app:o,userId:i,Title:s,Text:u,submitted:c,postForm:a,onSubmit:function(t){n("submitted",c=!0),r.Title.valid&&r.Text.valid&&fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify({title:s,body:u,userId:i}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(t=>t.json()).then(t=>{console.log(t),window.location.href=`apps/blog-post-view?id=${t.id}`})},$postForm:r,input_input_handler:function(){s=this.value,n("Title",s)},textarea_input_handler:function(){u=this.value,n("Text",u)}}}export default class extends j{constructor(t){super(),A(this,t,D,B,i,["app","userId"])}}
//# sourceMappingURL=bundle.mjs.map
