function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function o(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function a(e){return document.createTextNode(e)}function f(){return a(" ")}function p(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function h(e,t){e.value=null==t?"":t}let v;function b(e){v=e}function g(e){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.after_update.push(e)}const $=[],y=[],x=[],_=[],T=Promise.resolve();let O=!1;function w(e){x.push(e)}let E=!1;const F=new Set;function j(){if(!E){E=!0;do{for(let e=0;e<$.length;e+=1){const t=$[e];b(t),k(t.$$)}for(b(null),$.length=0;y.length;)y.pop()();for(let e=0;e<x.length;e+=1){const t=x[e];F.has(t)||(F.add(t),t())}x.length=0}while($.length);for(;_.length;)_.pop()();O=!1,E=!1,F.clear()}}function k(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(w)}}const A=new Set;function q(e,t){-1===e.$$.dirty[0]&&($.push(e),O||(O=!0,T.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function C(l,s,o,u,d,a,f=[-1]){const p=v;b(l);const m=s.props||{},h=l.$$={fragment:null,ctx:null,props:a,update:e,not_equal:d,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:f,skip_bound:!1};let g=!1;if(h.ctx=o?o(l,m,((e,t,...n)=>{const r=n.length?n[0]:t;return h.ctx&&d(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),g&&q(l,e)),t})):[],h.update(),g=!0,r(h.before_update),h.fragment=!!u&&u(h.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);h.fragment&&h.fragment.l(e),e.forEach(c)}else h.fragment&&h.fragment.c();s.intro&&(($=l.$$.fragment)&&$.i&&(A.delete($),$.i(y))),function(e,n,l){const{fragment:s,on_mount:o,on_destroy:u,after_update:c}=e.$$;s&&s.m(n,l),w((()=>{const n=o.map(t).filter(i);u?u.push(...n):r(n),e.$$.on_mount=[]})),c.forEach(w)}(l,s.target,s.anchor),j()}var $,y;b(p)}const N=[];function z(e,t){const n=parseFloat(t[0]);return(isNaN(e)?e.length:parseFloat(e))>=n}function Z(e,t){const n=parseFloat(t[0]),r=isNaN(e)?e.length:parseFloat(e);return!!isNaN(r)||r<=n}var I=Object.freeze({__proto__:null,between:function(e,t){return z(e,[t[0]])&&Z(e,[t[1]])},email:function(e,t){return Boolean(e)&&/^[a-zA-Z0-9_+&*-]+(?:\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,7}$/.test(e)},max:Z,min:z,required:function(e,t){if(null==e)return!1;if("string"==typeof e){return e.replace(/\s/g,"").length>0}return!0},url:function(e,t){return/(https?|ftp|git|svn):\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/i.test(e)},equal:function(e,t){return e===t[0]}});function S(e){return e.value}function L(e,t,{stopAtFirstFieldError:n}){const{name:r,value:i,validators:l=[],enabled:s=!0}=e;let o=!0,u=!1,c=[];return s&&l.some((e=>{const[l,s,d]=function(e,t,n,r,i=!0){let l,s=!0,o=!1;if(!1===i)return[s,l,o];if("function"==typeof n){const i=n.call(null,t);i.then?(o=!0,i.then((({name:t,valid:n})=>{r.update((r=>(r.fields[e]=r.fields[e]||{errors:[]},r.fields[e].pending=!1,r.fields[e].valid=n,n||r.fields[e].errors.push(t),r.valid=!Object.keys(r.fields).find((e=>!r.fields[e].valid)),r)))}))):(s=i.valid,l=i.name)}else{const e=n.split(/:/g);l=e.shift(),s=I[l].call(null,t,e)}return[s,l,o]}(r,i,e,t);if(!u&&d&&(o=!1,u=!0),!l)return o=!1,c=[...c,s],n})),{data:e,valid:o,errors:c,pending:u}}function P(t,n={}){const r=t.call(),i=Object.fromEntries(Object.keys(r).map((e=>[e,{name:r[e].name||e,value:r[e].value}]))),s=function(t,n=e){let r;const i=[];function s(e){if(l(t,e)&&(t=e,r)){const e=!N.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),N.push(n,t)}if(e){for(let e=0;e<N.length;e+=2)N[e][0](N[e+1]);N.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(l,o=e){const u=[l,o];return i.push(u),1===i.length&&(r=n(s)||e),l(t),()=>{const e=i.indexOf(u);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}({fields:{},oldFields:{},dirty:!1,valid:!0}),{subscribe:o,set:u,update:c}=s;return(n=Object.assign({initCheck:!0,validateOnChange:!0,stopAtFirstError:!1,stopAtFirstFieldError:!0},n)).validateOnChange&&g((()=>B(t,s,i,n))),n.initCheck&&B(t,s,i,n),{subscribe:o,set:u,update:c,validate(){B(t,s,i,n)}}}function B(e,t,n,r){const i=e.call(),l=function(e){let t;return s(e,(e=>t=e))(),t}(t),o={fields:{},oldFields:{},dirty:!1};Object.keys(i).some((e=>{const s={name:e,...i[e]},u=l.fields[e]||{data:{},errors:[],pending:!1,valid:!0,enabled:!0,dirty:!1},c=n[e],d=S(s),a=S(u),f=s.enabled;if(f===u.enabled&&d&&d===a?(o.fields[e]=l.fields[e],f||(o.fields[e].valid=!0,o.fields[e].errors=[])):o.fields[e]=L(s,t,r),d!==c.value&&(o.dirty=!0),o.fields[e].dirty=d!==c.value,o.oldFields[e]=Object.assign({},u),r.stopAtFirstError)return!o.fields[e].valid})),o.valid=!Object.keys(o.fields).find((e=>!o.fields[e].valid)),t.set(o)}function M(e){let t,n,r;return{c(){t=d("div"),n=a("Title is required"),t.hidden=r=!e[2],m(t,"class","error svelte-1afhtsm")},m(e,r){u(e,t,r),o(t,n)},p(e,n){4&n&&r!==(r=!e[2])&&(t.hidden=r)},d(e){e&&c(t)}}}function D(e){let t,n,r;return{c(){t=d("p"),n=a("Title should be maximum 50 characters"),t.hidden=r=!e[2],m(t,"class","error svelte-1afhtsm")},m(e,r){u(e,t,r),o(t,n)},p(e,n){4&n&&r!==(r=!e[2])&&(t.hidden=r)},d(e){e&&c(t)}}}function H(e){let t,n,r;return{c(){t=d("div"),n=a("Text is required"),t.hidden=r=!e[2],m(t,"class","error svelte-1afhtsm")},m(e,r){u(e,t,r),o(t,n)},p(e,n){4&n&&r!==(r=!e[2])&&(t.hidden=r)},d(e){e&&c(t)}}}function J(e){let t,n,r;return{c(){t=d("p"),n=a("Title should be maximum 50 characters"),t.hidden=r=!e[2],m(t,"class","error svelte-1afhtsm")},m(e,r){u(e,t,r),o(t,n)},p(e,n){4&n&&r!==(r=!e[2])&&(t.hidden=r)},d(e){e&&c(t)}}}function U(t){let n,i,l,s,a,v,b,g,$,y,x,_,T,O,w,E,F,j,k,A,q,C,N,z,Z,I,S,L,P=t[3].fields.Title.errors.includes("required"),B=t[3].fields.Title.errors.includes("min"),U=t[3].fields.Text.errors.includes("required"),W=t[3].fields.Text.errors.includes("min"),G=P&&M(t),K=B&&D(t),Q=U&&H(t),R=W&&J(t);return{c(){n=d("div"),i=d("div"),l=d("div"),s=d("section"),a=d("h2"),a.textContent="Write Post",v=f(),b=d("hr"),g=f(),$=d("form"),y=d("div"),x=d("label"),x.textContent="Title",_=f(),T=d("div"),O=d("input"),w=f(),G&&G.c(),E=f(),K&&K.c(),F=f(),j=d("div"),k=d("label"),k.textContent="Text",A=f(),q=d("div"),C=d("textarea"),N=f(),Q&&Q.c(),z=f(),R&&R.c(),Z=f(),I=d("div"),I.innerHTML='<div class="col-md-offset-2 col-md-10"><input type="submit" value="Create" class="btn btn-primary"/></div>',m(x,"class","col-md-2 control-label"),m(x,"for","title"),m(O,"name","title"),m(O,"type","text"),m(O,"placeholder","Enter title"),m(O,"class","form-control"),m(T,"class","col-md-10"),m(y,"class","form-group"),m(k,"class","col-md-2 control-label"),m(k,"for","title"),m(C,"name","text"),m(C,"rows","5"),m(C,"cols","60"),m(C,"placeholder","Enter post text here..."),m(C,"class","form-control"),m(q,"class","col-md-10"),m(j,"class","form-group"),m(I,"class","form-group"),m(s,"id","post"),m(l,"class","col-md-6"),m(i,"class","row"),m(n,"class","container-fluid")},m(e,r){var c;u(e,n,r),o(n,i),o(i,l),o(l,s),o(s,a),o(s,v),o(s,b),o(s,g),o(s,$),o($,y),o(y,x),o(y,_),o(y,T),o(T,O),h(O,t[0]),o(T,w),G&&G.m(T,null),o(T,E),K&&K.m(T,null),o($,F),o($,j),o(j,k),o(j,A),o(j,q),o(q,C),h(C,t[1]),o(q,N),Q&&Q.m(q,null),o(q,z),R&&R.m(q,null),o($,Z),o($,I),S||(L=[p(O,"input",t[8]),p(C,"input",t[9]),p($,"submit",(c=t[5],function(e){return e.preventDefault(),c.call(this,e)}))],S=!0)},p(e,[t]){1&t&&O.value!==e[0]&&h(O,e[0]),8&t&&(P=e[3].fields.Title.errors.includes("required")),P?G?G.p(e,t):(G=M(e),G.c(),G.m(T,E)):G&&(G.d(1),G=null),8&t&&(B=e[3].fields.Title.errors.includes("min")),B?K?K.p(e,t):(K=D(e),K.c(),K.m(T,null)):K&&(K.d(1),K=null),2&t&&h(C,e[1]),8&t&&(U=e[3].fields.Text.errors.includes("required")),U?Q?Q.p(e,t):(Q=H(e),Q.c(),Q.m(q,z)):Q&&(Q.d(1),Q=null),8&t&&(W=e[3].fields.Text.errors.includes("min")),W?R?R.p(e,t):(R=J(e),R.c(),R.m(q,null)):R&&(R.d(1),R=null)},i:e,o:e,d(e){e&&c(n),G&&G.d(),K&&K.d(),Q&&Q.d(),R&&R.d(),S=!1,r(L)}}}function W(e,t,n){let r,{app:i}=t,{userId:l}=t,o="",u="",c=!1;const d=P((()=>({Title:{value:o,validators:["required","max:50"]},Text:{value:u,validators:["required","max:4000"]}})));var a,f;return a=d,f=e=>n(3,r=e),e.$$.on_destroy.push(s(a,f)),e.$$set=e=>{"app"in e&&n(6,i=e.app),"userId"in e&&n(7,l=e.userId)},[o,u,c,r,d,function(e){n(2,c=!0),r.fields.Title.valid&&r.fields.Text.valid&&fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify({title:o,body:u,userId:l}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json())).then((e=>{console.log(e),window.location.href=`apps/blog-post-view?id=${e.id}`}))},i,l,function(){o=this.value,n(0,o)},function(){u=this.value,n(1,u)}]}export default class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),C(this,e,W,U,l,{app:6,userId:7})}}
//# sourceMappingURL=bundle.mjs.map
